# ğŸ§  Financial Planning Agent â€“ Valura.ai Task

An AI-powered financial planning assistant built with **LangChain**, **Ollama**, and **Streamlit**. This interactive agent collects a userâ€™s financial profile, performs retirement-related calculations using proven formulas, and answers natural-language questions like:

- â€œWhen can I retire?â€
- â€œHow much should I save monthly?â€
- â€œIs it better to invest or pay off my mortgage?â€
- â€œWhat if inflation is 6%?â€

---

## ğŸš€ Features

### âœ… 1. Persona Builder
- Asks friendly questions to collect:
  - Age, income, savings, retirement goals, expenses, etc.
- Stores user data in memory for dynamic follow-ups.

### âœ… 2. Formula Engine
Implements core financial formulas as pure Python functions (fully unit tested):
- **Future Value**: `FV = PV Ã— (1 + r)^n`
- **Present Value**: `PV = FV / (1 + r)^n`
- **FV of Annuity**: `FV = PMT Ã— [(1 + r)^n â€“ 1] / r`
- **PV of Annuity**: `PV = PMT Ã— [1 â€“ (1 + r)^â€“n] / r`
- **NPER (Time to Goal)**: Excel-style logic
- **Rule of 72**: Years â‰ˆ `72 / rate%`

### âœ… 3. Natural Language Q&A
- Users can ask follow-up queries like:
  - â€œHow long will â‚¹40L last with â‚¹30K monthly?â€
  - â€œWhatâ€™s my retirement age if I save â‚¹1L/year at 8%?â€
  - â€œExplain Rule of 72â€

### âœ… 4. Explain-Your-Work
- Agent explains:
  - The exact formula used
  - Input variables
  - Step-by-step logic

### âœ… 5. Visual UI (Streamlit)
- Chat interface + summary cards
- Dynamic retirement projections
- Scenario simulations (e.g., early retirement, inflation)

---

## ğŸ“¸ Preview

<img src="/Users/yashkumar/Desktop/2Cents/Screenshot 2025-08-03 at 4.07.00â€¯AM.png" width="700"/>

---

## ğŸ§ª Tests

- 9 unit tests (`test_formulas.py`)
- 9 end-to-end scenario tests (`test_end_to_end.py`)
- Covers:
  - Financial formula accuracy
  - Data validation
  - Scenario Q&A
  - Mortgage vs invest decisions
  - Fallback logic

Run tests using:
```bash
python3 -m unittest discover tests
âš™ï¸ Setup Instructions
ğŸ–¥ Requirements
Python 3.9+

Ollama with llama3 model installed

Streamlit

LangChain (v0.2+)

Optional: virtualenv

ğŸ“¦ Install Dependencies
bash
Copy
Edit
pip install -r requirements.txt
â–¶ï¸ Run App
bash
Copy
Edit
streamlit run main.py
ğŸ§  Architecture
agent.py â€“ LangChain-based agent using llama3:8b-instruct via Ollama

ui.py â€“ Full Streamlit UI: questionnaire, chat, charts, summaries

formulas.py â€“ Core financial logic (FV, PV, annuity, NPER, Rule of 72)

tests/ â€“ Unit tests and end-to-end interaction tests

main.py â€“ Launches the app

ğŸ¯ Project Goals
Replicate results of calculators like CalcXML

Deliver accurate, formula-based advice

Maintain friendly UX via chat-like flow

Support dynamic follow-ups using context-aware logic



Questionnaire flow

Chat Q&A

Formula explanations

Scenario modifications

ğŸ“ License
This project was built as part of the AI Engineer Technical Task for Valura.ai.
Free to use and extend under MIT License or as directed by the company.

ğŸ™‹â€â™‚ï¸ Author
Yash Kumar
Email: yash7291kumar@gmail.com
GitHub: https://github.com/yashh13kumar
LinkedIn: https://www.linkedin.com/in/yash-13-kumar/